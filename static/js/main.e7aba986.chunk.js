(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{14:function(e,r,t){},15:function(e,r,t){},16:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),o=t(3),c=t.n(o),s=(t(14),t(1)),i=t(4),u=t(5),l=t(7),f=t(6),m=t(8);t(15);function v(e){return String.fromCharCode(97+e)}function h(e){return e.charCodeAt(0)-97}function b(e){return String(8-e)}function d(e){return 8-+e}function N(e){return["\u265c","\u265e","\u265d","\u265a","\u265b","\u265f"].includes(e)?"black":["\u2656","\u2658","\u2657","\u2654","\u2655","\u2659"].includes(e)?"white":void 0}function k(e,r){return{fileName:e,rankName:r,fileNumber:h(e),rankNumber:d(r)}}function p(e,r){return{fileNumber:e,rankNumber:r,fileName:v(e),rankName:b(r)}}var w="chess_move_history",g=function(e){function r(e){var t;Object(i.a)(this,r),t=Object(l.a)(this,Object(f.a)(r).call(this,e));var a=localStorage.getItem(w)||"";return t.state={board:t.doMoves(a),moves:a,error:null},t}return Object(m.a)(r,e),Object(u.a)(r,[{key:"doMoves",value:function(e){var r=/^\d+\. *([^ ]+)(?: +([^ ]+))?/,t=e.split("\n").filter((function(e){return r.test(e)})),a=[["\u265c","\u265e","\u265d","\u265a","\u265b","\u265d","\u265e","\u265c"],["\u265f","\u265f","\u265f","\u265f","\u265f","\u265f","\u265f","\u265f"],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["\u2659","\u2659","\u2659","\u2659","\u2659","\u2659","\u2659","\u2659"],["\u2656","\u2658","\u2657","\u2654","\u2655","\u2657","\u2658","\u2656"]];try{var n=!0,o=!1,c=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value,f=r.exec(l),m=Object(s.a)(f,3),v=(m[0],m[1]),h=m[2];E(a,v,!1),h&&E(a,h,!0)}}catch(b){o=!0,c=b}finally{try{n||null==u.return||u.return()}finally{if(o)throw c}}}catch(d){this.setState({error:d})}return a}},{key:"componentDidUpdate",value:function(e,r){if(localStorage.setItem(w,this.state.moves),this.state.moves!==r.moves){var t=this.doMoves(this.state.moves);this.setState({board:t})}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement("table",{className:"App-Board"},n.a.createElement("tbody",null,this.state.board.map((function(e,r){return n.a.createElement("tr",{key:r+1},e.map((function(e,t){var a=(r%2+t)%2?"black-square":"white-square";return n.a.createElement("td",{key:v(t),className:a},e)})))})))),n.a.createElement("textarea",{className:"App-moves",value:this.state.moves,onChange:function(r){return e.setState({moves:r.target.value,error:null})}}),this.state.error&&n.a.createElement("div",{className:"App-error"},this.state.error.message))}}]),r}(n.a.Component),y=/([KQBNR]?)([a-h]?)([1-8]?)([a-h])([1-8])/;function E(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(y.test(r)){var a,n=y.exec(r),o=Object(s.a)(n,6),c=(o[0],o[1]),i=o[2],u=o[3],l=o[4],f=o[5],m=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case"K":return r?"\u265b":"\u2655";case"Q":return r?"\u265a":"\u2654";case"B":return r?"\u265d":"\u2657";case"N":return r?"\u265e":"\u2658";case"R":return r?"\u265c":"\u2656";default:return r?"\u265f":"\u2659"}}(c,t),v=k(l,f);if(i&&u){if(a=k(i,u),!M(e,a,v))throw Error("Invalid Move: ".concat(m,": ").concat(i).concat(u," -> ").concat(l).concat(f))}else{if(!(a=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=[];if(t&&a){var o=k(t,a);e[o.rankNumber][o.fileNumber]&&n.push(o)}else if(t)for(var c=h(t),s=0;s<8;s++)e[s][c]===r&&n.push(p(c,s));else if(a)for(var i=d(a),u=0;u<8;u++)e[i][u]===r&&n.push(p(u,i));else for(var l=0;l<8;l++)for(var f=0;f<8;f++)e[l][f]===r&&n.push(p(f,l));return n}(e,m,i,u).find((function(r){return M(e,r,v)}))))throw Error("Invalid Move: ".concat(m,": -> ").concat(l).concat(f));i=a.fileName,u=a.rankName}e[a.rankNumber][a.fileNumber]="",e[v.rankNumber][v.fileNumber]=m}}function M(e,r,t){var a=e[r.rankNumber][r.fileNumber],n=e[t.rankNumber][t.fileNumber];if(!a)return!1;var o=N(a);if(o===N(n))return!1;var c=function(e){switch(e){case"\u265b":case"\u2655":return"K";case"\u265a":case"\u2654":return"Q";case"\u265d":case"\u2657":return"B";case"\u265e":case"\u2658":return"N";case"\u265c":case"\u2656":return"R";case"\u265f":case"\u2659":return""}return!1}(a),s=t.rankNumber-r.rankNumber,i=t.fileNumber-r.fileNumber,u=Math.abs(s),l=Math.abs(i);switch(c){case"":if(n)return 1===l&&1===u;if(r.fileName!==t.fileName)return!1;if("white"===o)return"2"===r.rankName&&-2===s||-1===s&&Math.abs(i)<=1;if("black"===o)return"7"===r.rankName&&2===s||1===s&&Math.abs(i)<=1;break;case"Q":return 0===s||0===i||u===l;case"N":return 2===l&&1===u||1===l&&2===u;case"R":return 0===s||0===i;case"K":return u<=1&&l<=1;case"B":return u===l}}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,r,t){e.exports=t(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.e7aba986.chunk.js.map